---
layout: documentation
---

{% include base.html %}

# Audio & Voice

Eclipse SmartHome provides a modular architecture that enables all kinds of different use cases.
At its core, there is the notion of an _audio stream_.
Audio streams are provided by _audio sources_ and consumed by _audio sinks_.
Each binding for handling and controlling audio services can implement an audio sink to provide their supported devices to the framework to be used as sound output.
An audio sink is identified by an unique id which in general is similar to the thing type id.
The framework itself can handle multiple audio sinks at the same time.
You can define a default sink for your purpose (e.g. in the Paper UI).

## Audio

The framework is able to play sound either from the file system, from URLs (e.g. Internet radio streams) or generated by text-to-speech engines (which are available as optional Voice add-ons).
There are two different ways to play or stream audio:

- using built-in functions within DSL rules;
- using text console commands: smarthome:audio;

### Built-in functions within DSL rules

```java
playSound("doorbell.mp3")
playSound("doorbell.mp3", 25)
playSound("sonos:PLAY5:kitchen", "doorbell.mp3")
playSound("sonos:PLAY5:kitchen", "doorbell.mp3", 25)
```

```java
playStream("http://wdr-1live-diggi.icecast.wdr.de/wdr/1live/diggi/mp3/128/stream.mp3")
playStream("http://wdr-1live-diggi.icecast.wdr.de/wdr/1live/diggi/mp3/128/stream.mp3", 25)
playStream("sonos:PLAY5:kitchen", "http://wdr-1live-diggi.icecast.wdr.de/wdr/1live/diggi/mp3/128/stream.mp3")
playStream("sonos:PLAY5:kitchen", "http://wdr-1live-diggi.icecast.wdr.de/wdr/1live/diggi/mp3/128/stream.mp3", 25)
```

### Text console commands

| Command                                               | Description                                                                                                                          |
|-------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------|
| `smarthome:audio play [<sink>] <filename> [<volume>]` | plays a sound file from the `conf/sounds` folder through the optionally specified audio sink(s) with the optionally specified volume |
| `smarthome:audio stream [<sink>] <url> [<volume>]`    | streams the sound from the url through the optionally specified audio sink(s) with the optionally specified volume                   |
| `smarthome:audio sources`                             | lists the audio sources                                                                                                              |
| `smarthome:audio sinks`                               | lists the audio sinks                                                                                                                |

## Voice

Voice services are separate bindings with the ability to synthesize written text to speech using a given voice.
In order to use text-to-speech, you need to install at least one TTS service.
Once you have done so, you will find different voices available in your system.
Each voice supports exactly one language.
You can define a default TTS service and a default voice to use (e.g. in the Paper UI).
How to use TTS:

- using built-in functions within DSL rules;
- using text console commands: smarthome:voice;
- using REST API methods (only for HLI);

### Built-in functions within DSL rules

```java
say("Hello world!")
say("Hello world!", 25)
say("Hello world!", "voicerss:enGB")
say("Hello world!", "voicerss:enGB", 25)
say("Hello world!", "voicerss:enUS", "sonos:PLAY5:kitchen")
say("Hello world!", "voicerss:enUS", "sonos:PLAY5:kitchen", 25)
```

### Text console commands

| Command                               | Description                                                            |
|---------------------------------------|------------------------------------------------------------------------|
| `smarthome:voice say <text>`          | speaks a text on the default audio sink with the default TTS and voice |
| `smarthome:voice voices`              | lists available voices of the active TTS services                      |
| `smarthome:voice interpret <command>` | interprets a human language command                                    |

### REST API

- GET /voice/interpreters Get the list of all interpreters.
- POST /voice/interpreters Sends a text to the default human language interpreter.
- GET /voice/interpreters/{id} Gets a single interpreters.
- POST /voice/interpreters/{id} Sends a text to a given human language interpreter.

